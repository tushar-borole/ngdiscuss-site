function config(a,b,c,d,e,f,g,h,i,j){b.otherwise("/index/blog"),a.state("index",{"abstract":!0,url:"/index",templateUrl:"views/common/content.html"}).state("index.blog",{url:"/blog",templateUrl:"views/blog.html",controller:"BlogCtrl",data:{pageTitle:"Example view"}}).state("index.article",{url:"/article",templateUrl:"views/article.html",controller:"BlogDetailsCtrl",data:{pageTitle:"Example view"}}).state("index.login",{url:"/login",templateUrl:"views/login.html",data:{pageTitle:"Example view"}}).state("index.register",{url:"/register",templateUrl:"views/register.html",data:{pageTitle:"Example view"}}).state("index.createblog",{url:"/createblog",templateUrl:"views/createblog.html",controller:"CreateBlogCtrl",data:{pageTitle:"Example view"},resolve:{authorization:["ngPermissionService",function(a){return a.role(["admin"])}]}}),c.useStaticFilesLoader({prefix:"i18/",suffix:".json"}),console.log(h),e.setBaseUrl(h.backendurl),c.preferredLanguage("en"),d.extendConfig({setAsteriskForRequiredLabel:!0});var k=function(a,b,c){angular.isDefined(c.$attr.chosen)?$(".chosen-container").after(a):b.after(a)};d.setInsertErrorTplFn(k),console.log(window.location.href),i.facebook({clientId:h.facebookAppId,url:h.backendurl+j[h.urlname].facebookconnect})}function restangularParams(a,b){var c=[{type:"get",value:"one"},{type:"post",value:"all"},{type:"customDELETE",value:"all"},{type:"customPUT",value:"all"},{type:"getList",value:"all"}];if("mock"===b)return c[0];for(var d=0;d<c.length;d++)if(c[d].type===a)return c[d]}function pageTitle(a,b){return{link:function(c,d){var e=function(a,c,e,f,g){var h="INSPINIA | Responsive Admin Theme";c.data&&c.data.pageTitle&&(h="INSPINIA | "+c.data.pageTitle),b(function(){d.text(h)})};a.$on("$stateChangeStart",e)}}}function sideNavigation(){return{restrict:"A",link:function(a,b){b.metisMenu()}}}function iboxTools(a){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:["$scope","$element",function(b,c){b.showhide=function(){var b=c.closest("div.ibox"),d=c.find("i:first"),e=b.find("div.ibox-content");e.slideToggle(200),d.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),b.toggleClass("").toggleClass("border-bottom"),a(function(){b.resize(),b.find("[id^=map-]").resize()},50)},b.closebox=function(){var a=c.closest("div.ibox");a.remove()}}]}}function minimalizaSidebar(a){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(b,c){b.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),a(function(){$("#side-menu").fadeIn(500)},100)):$("#side-menu").removeAttr("style")}}]}}var app=angular.module("karma",["ui.router","ui.bootstrap","angularFileUpload","summernote","pascalprecht.translate","restangular","ipCookie","cgNotify","ngFabForm","ngMessages","ngAnimate","ngTable","ngBusy","ngBootbox","ngTagsInput","NgSwitchery","localytics.directives","ngTableExport","truncate","dcbImgFallback","angles","angular.filter","tc.chartjs","rt.select2","ngSanitize","ui.select","ngFx","angular-preload-image","Config","ngErrorShipper","angularSpinner","angularGrid","ngPermission","satellizer"]);angular.module("Config",[]).constant("$enviornment",{analyticsAppId:"UA-XXXXXXXX-1",facebookAppId:"924688284262183",jsonurl:"",name:"production",backendurl:"http://104.131.74.237/",urlname:"development",viewbasepath:"",jsonpath:"/json/detailJson/"}),function(){"use strict";function a(a,b,c,d){function e(a,d,e){d.bind("click",function(){var d=b.open({templateUrl:e.modalTemplate,size:e.modalSize,scope:a});c(e.modalScope).assign(a,d)})}var f={link:e};return f}angular.module("karma").directive("modal",a),a.$inject=["$timeout","$modal","$parse"]}(),app.service("authService",["$http","$q","$timeout","Restangular","dataFactory","ipCookie","$rootScope","APP_CONSTANTVALUE",function(a,b,c,d,e,f,g,h){a.defaults.headers.common[h.token]=f("auth").access_token;var i=b.defer();return c(function(){e.loggedInuser().then(function(a){g.loggedindata=a,i.resolve()},function(){})},0),i.promise}]),app.service("errorService",["$http","$translate","notify",function(a,b,c){return{error:function(a,d,e){console.log(a);var f=0==e?a:b.instant(a);console.log(f),c({message:f,classes:d})}}}]),app.service("projectService",["$http",function(a){return{getGoalPercent:function(a,b){var c=0;angular.forEach(a,function(a){c+=a});var d=c/b*100;return d}}}]),config.$inject=["$stateProvider","$urlRouterProvider","$translateProvider","ngFabFormProvider","RestangularProvider","APP_CONSTANT","APP_CONFIG","$enviornment","$authProvider","APP_URL"],app.config(config).run(["$rootScope","$state","APP_CONSTANTVALUE","$enviornment","errorShipper","$http","ipCookie",function(a,b,c,d,e,f,g){a.$state=b,a.fallbackimage={},a.fallbackimage=c.fallbackimage,a.$constant=c,d.jsonurl=window.location.protocol+"//"+window.location.host,d.name=d.jsonurl+=d.jsonpath,console.log(d.name),a.summernoteConfig={height:150,toolbar:[["style",["bold","italic","underline","clear"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]},a.$on("ngPermission",function(a,b,d,e){angular.isDefined(g("auth"))&&(f.defaults.headers.common[c.token]=g("auth").token),d.resolve()}),e.use(function(a){console.log(a)}),console.log(window.location)}]),app.run(["$rootScope","$state","Restangular","$location","$timeout",function(a,b,c,d,e){c.setResponseExtractor(function(a,b){if("getList"===b){var c=a.resp;return c}return a}),c.setErrorInterceptor(function(a,b,c){return 401===a.status?(d.path("app.login"),!0):!0})}]),app.constant("APP_CONFIG",{enviornment:"development",urlenv:"development"}),app.constant("APP_CONSTANT",{}),app.constant("APP_CONSTANTVALUE",{token:"x-access-token",maxmailimagesize:3e5,status:[{name:"Active",value:!0},{name:"In Active",value:!1}],invitestatus:[{name:"Pending",value:"Pending"},{name:"Accepted",value:"Accepted"}],fallbackimage:{companyfallback:"images/no-image.png",loadingsrc:"images/ajax-loader.gif",userfallback:"images/user.png",userfallbacknavigation:"images/userimage.png"},dashboard:[{month:"January",number:1},{month:"February",number:2},{month:"March",number:3},{month:"April",number:4},{month:"May",number:5},{month:"June",number:6},{month:"July",number:7},{month:"August",number:8},{month:"September",number:9},{month:"October",number:10},{month:"November",number:11},{month:"December",number:12}]}),app.constant("APP_URL",{development:{loginuser:"api/login",registeruser:"api/user",loggedinuser:"api/v1/users/loggedInUser",getblog:"api/blog",createblog:"api/blog",getblogdetails:"api/blog/{{blogid}}",createcomment:"api/blog/{{blogid}}/comment",getcomment:"api/blog/{{blogid}}/comment",facebookconnect:"auth/facebook"},mock:{loginuser:"json/static/login.json",loggedinuser:"json/static/loggedin.json",getmail:"json/static/mailjson.json",updatemail:"json/static/updatemail.json",createmail:"json/static/createmail.json",deletemail:"json/static/deletemail.json",getmailmodule:"json/static/getmailmodule.json",getrole:"json/static/role.json",invitemail:"api/v1/users/inviteusers",getuser:"json/static/user.json",mailcomponent:"json/static/mailcomponent.json",updatestatus:"json/static/updatestatus.json",companydetails:"json/static/company.json",updatecompanystatus:"api/v1/companystatus.json",projectdetails:"json/static/project.json",updateprojectstatus:"json/static/projectstatus.json",teamdetails:"json/static/team.json",updateteamstatus:"json/static/teamstatus.json",getcategory:"json/static/category.json",createcategory:"json/static/createcategory.json",deletecategory:"json/static/deletecatgory.json",updatecategory:"json/static/updatecategory.json",getsubcategory:"json/static/subcategory.json",ngodetails:"json/static/ngo.json",updatengostatus:"json/static/ngostatus.json",ngoproject:"json/static/ngoproject.json",ngomember:"json/static/ngomenber.json",getcountdashboard:"json/static/dashboardcount.json",getngodashboard:"json/static/ngodashboard.json",getcompanydashboard:"json/static/companydashboard.json",getuserdashboard:"json/static/userdashboard.json",getuserinvitations:"json/static/userinvitations.json",updateinvite:"json/static/updateinvitations.json",deleteinvite:"json/static/deleteinvitations.json",getuserdetails:"json/static/userDetails.json",deleteuser:"json/static/userdelete.json",getregistration:"json/static/manageregistration.json",deleteregistration:"",updateregistration:"",getregistrationdetail:"json/static/updateregistration.json",resendinvitaion:"",getpaymentinfo:"",resendpaymentinvitaion:"",getstatus:"json/static/registrationstatus.json",getdocument:"",updatedocument:"",createdocument:"",deletedocument:"",updatemailimage:"",updateuser:"json/static/updateuser.json",imageupload:"imageupload"}}),app.filter("filterMultiple",["$filter",function(a){return function(b,c){var d={data:b,filteredData:[],applyFilter:function(b,c){var d=[];if(0==this.filteredData.length&&(this.filteredData=this.data),b){var e={};if(angular.isArray(b)){if(angular.isArray(b)&&b.length>0)for(var f=0;f<b.length;f++)angular.isDefined(b[f])&&(e[c]=b[f],d=d.concat(a("filter")(this.filteredData,e)))}else e[c]=b,d=d.concat(a("filter")(this.filteredData,e));d.length>0&&(this.filteredData=d)}}};return c&&angular.forEach(c,function(a,b){d.applyFilter(a,b)}),d.filteredData}}]),app.factory("dataFactory",["Restangular","APP_URL","APP_CONFIG",function(a,b,c){return{loginUser:function(d){var e=b[c.urlenv].loginuser,f=restangularParams("post",c.urlenv);return a[f.value](e)[f.type](d)},loggedInuser:function(d){var e=b[c.urlenv].loggedinuser,f=restangularParams("get",c.urlenv);return a[f.value](e)[f.type](d)},registerUser:function(d){var e=b[c.urlenv].registeruser,f=restangularParams("post",c.urlenv);return a[f.value](e)[f.type](d)}}}]),app.factory("blogFactory",["Restangular","APP_URL","APP_CONFIG",function(a,b,c){return{getBlog:function(){var d=b[c.urlenv].getblog,e=restangularParams("get",c.urlenv);return a[e.value](d)[e.type]()}}}]),app.factory("createblogFactory",["Restangular","APP_URL","APP_CONFIG",function(a,b,c){return{createBlog:function(d){var e=b[c.urlenv].createblog,f=restangularParams("post",c.urlenv);return a[f.value](e)[f.type](d)}}}]),app.factory("blogdetailsFactory",["Restangular","APP_URL","APP_CONFIG",function(a,b,c){return{blogdetailsFactory:function(d){var e=b[c.urlenv].getblogdetails.replace("{{blogid}}",d),f=restangularParams("get",c.urlenv);return a[f.value](e)[f.type]()}}}]),app.factory("commentFactory",["Restangular","APP_URL","APP_CONFIG",function(a,b,c){return{addComment:function(d,e){var f=b[c.urlenv].createcomment.replace("{{blogid}}",d),g=restangularParams("post",c.urlenv);return a[g.value](f)[g.type](e)},getComment:function(d){var e=b[c.urlenv].getcomment.replace("{{blogid}}",d),f=restangularParams("get",c.urlenv);return a[f.value](e)[f.type]()}}}]),app.directive("loadingContainer",["$timeout",function(a){return{restrict:"A",scope:!1,link:function(a,b,c){var d=angular.element('<div class="loading"></div>');b.append(d),b.addClass("loading-container"),a.$watch(c.loadingContainer,function(a){d.toggleClass("ng-hide",!a)}),a.$watch(c.loadingData,function(a){angular.isDefined(a)&&(0==a.length?b.addClass("table-no-data"):b.removeClass("table-no-data"))})}}}]),pageTitle.$inject=["$rootScope","$timeout"],iboxTools.$inject=["$timeout"],minimalizaSidebar.$inject=["$timeout"],app.directive("pageTitle",pageTitle).directive("sideNavigation",sideNavigation).directive("iboxTools",iboxTools).directive("minimalizaSidebar",minimalizaSidebar),app.controller("MainCtrl",["$scope","$http","ipCookie","$state","APP_CONSTANTVALUE","$rootScope","$auth","Restangular","$rootScope",function(a,b,c,d,e,f,g,h,f){a.menbarJson=[],f.userData=c("auth"),angular.isDefined(c("auth"))&&(b.defaults.headers.common[e.token]=c("auth").token,f.userData=c("auth").user),b.get("json/menubar.json").success(function(b){a.menubarJson=b}),a.loginUser=function(){g.authenticate("facebook").then(function(a){c("auth",a.data),f.userData=a.data.user})},a.logOut=function(){c.remove("auth"),delete b.defaults.headers.common[e.token],f.userData={}},a.angularCopy=function(a){var b=angular.copy(a);return b}}]),app.controller("LoginCtrl",["$scope","$http","dataFactory","ipCookie","notify","$translate","ngFabForm","$state","APP_CONSTANTVALUE","$timeout",function(a,b,c,d,e,f,g,h,i,j){}]),app.controller("BlogCtrl",["$scope","$http","ipCookie","$state","APP_CONSTANTVALUE","blogFactory",function(a,b,c,d,e,f){a.blogData=["1","sd","asd","asda","wer"],a.getBlogs=function(){f.getBlog().then(function(b){a.blogData=b.resp},function(){})},a.getBlogs()}]),app.controller("BlogDetailsCtrl",["$scope","$http","ipCookie","$state","APP_CONSTANTVALUE","blogdetailsFactory","commentFactory",function(a,b,c,d,e,f,g){a.comment={},a.getBlogsDetails=function(){f.blogdetailsFactory(1).then(function(b){a.blogDetailsData=b.response},function(){})},a.getComment=function(){g.getComment(1).then(function(b){a.commentData=b.response},function(){})},a.addComment=function(){g.addComment(1,a.comment).then(function(){},function(){})},a.getComment(),a.getBlogsDetails()}]),app.controller("CreateBlogCtrl",["$scope","$http","ipCookie","$state","APP_CONSTANTVALUE","createblogFactory",function(a,b,c,d,e,f){a.createBlog=function(b){b&&f.createBlog(a.createblog).then(function(){d.go("index.blog")},function(){})}}]),app.controller("CommentCtrl",["$scope","$rootScope","dataFactory","ipCookie","notify","$translate","ngFabForm","$state","APP_CONSTANTVALUE","$timeout","commentFactory","ipCookie","$http",function(a,b,c,d,e,f,g,h,i,j,k,d,l){a.login={},a.customFormOptions=angular.copy(g.config),a.getComment=function(){k.getComment(b.blogid).then(function(b){a.commentData=b.response},function(){})},a.addComment=function(){k.addComment(b.blogid,a.comment).then(function(){},function(){})},a.getComment()}]);